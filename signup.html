<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Kendo Suburi Signup</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: sans-serif;
      background-image: url('suburi.png');
      background-size: auto 50vh;
      background-repeat: repeat-x;
      background-attachment: fixed;
      animation: slideBackground 2s linear infinite;
    }
    @keyframes slideBackground {
       0% { background-position: 0% 30%; }
      100% { background-position: 100% 30%; }
    }

    .section-intro {
      font-size: 0.95rem;
      margin-bottom: 1.25rem;
      color: #444;
      text-align: left;
    }

    select, input, textarea {
      width: 100%;
      padding: 0.5rem;
      font-size: 1rem;
      margin-bottom: 1rem;
      border: 1px solid #ccc;
      border-radius: 5px;
      box-sizing: border-box;
    }

    .toggle-group {
      margin-bottom: 1.5rem;
      font-size: 1rem;
    }

    .toggle-group input[type="radio"] {
      display: none;
    }

    .toggle-group label {
      display: inline-block;
      padding: 0.5rem 1rem;
      margin-right: 1rem;
      border: 2px solid #444;
      border-radius: 25px;
      background-color: white;
      cursor: pointer;
      transition: background-color 0.2s, color 0.2s, border-color 0.2s;
    }

    .toggle-group input[type="radio"]:checked + label {
      background-color: #444;
      color: white;
      border-color: #444;
    }

    form {
      position: relative;
      z-index: 1;
      max-width: 400px;
      margin: 40px auto;
      padding: 20px;
      background-color: rgba(255, 255, 255, 0.8);
      border-radius: 10px;
      box-shadow: 0 0 20px rgba(0,0,0,0.9);
      backdrop-filter: blur(1px);
    }

    label {
      margin-bottom: 12px;
      font-weight: bold;
      font-size: 0.95rem;
    }

    button {
      padding: 12px;
      background-color: #111;
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 1rem;
      font-weight: bold;
      cursor: pointer;
      transition: background-color 0.2s ease;
      display: block;
      margin-top: 1rem;
    }

    button:hover {
      background-color: #333;
    }

    .type-output {
      margin-top: 1rem;
      font-size: 1.1rem;
      color: #222;
      background: rgba(255, 255, 255, 0.85);
      padding: 0.5rem 1rem;
      border-left: 4px solid #444;
      border-radius: 4px;
    }

    .checkbox-line {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 1rem;
    }
  </style>
</head>
<body>
  <form action="https://formspree.io/f/xzzvbpzd" method="POST">
    <p class="section-intro">
      <strong>About This Project:</strong> Thank you for submitting your <em>suburi</em> data! This short form helps us connect your swings with your experience and background. Your input supports training a machine learning model that learns how <strong>form and technique vary across levels and styles</strong>.
    </p>

    <label for="name">Name</label>
    <input type="text" name="name" id="name" />

    <label for="code">Participant Code</label>
    <input type="text" name="code" id="code" required placeholder="e.g. SBR0423. Put ? if not sure" />

    <label for="instagram">Instagram Handle (optional)</label>
    <input type="text" name="instagram" id="instagram" placeholder="@yourhandle" />

    <label for="rank">Rank</label>
    <select id="rank" name="rank" required>
      <option value="" disabled selected>Select your rank</option>
      <optgroup label="Kyu Ranks">
        <option value="9Kyu">9 Kyu</option>
        <option value="8Kyu">8 Kyu</option>
        <option value="7Kyu">7 Kyu</option>
        <option value="6Kyu">6 Kyu</option>
        <option value="5Kyu">5 Kyu</option>
        <option value="4Kyu">4 Kyu</option>
        <option value="3Kyu">3 Kyu</option>
        <option value="2Kyu">2 Kyu</option>
        <option value="1Kyu">1 Kyu</option>
      </optgroup>
      <optgroup label="Dan Ranks">
        <option value="1Dan">1 Dan</option>
        <option value="2Dan">2 Dan</option>
        <option value="3Dan">3 Dan</option>
        <option value="4Dan">4 Dan</option>
        <option value="5Dan">5 Dan</option>
        <option value="6Dan">6 Dan</option>
        <option value="7Dan">7 Dan</option>
        <option value="8Dan">8 Dan</option>
      </optgroup>
    </select>

    <label for="dojo">Dojo Name</label>
    <input type="text" name="dojo" id="dojo" required />

    <label for="years">Years of Kendo Practice</label>
    <input type="number" name="years" id="years" min="0" max="99" required />

    <label for="friends">Participants you'd like to compare with (names or codes)</label>
    <textarea name="friends" id="friends" rows="3" placeholder="Separate names/codes with commas"></textarea>

    <p class="section-intro">
      <strong>Kendo MBTI:</strong> Choose the option in each pair that feels most like you — <strong>don’t overthink it!</strong> While this is mostly for fun now, we’re exploring whether natural swing styles or clusters emerge from motion data.
    </p>

    <!-- Kendo MBTI toggles remain unchanged -->
    <div class="toggle-group">
      <span>Focus Style (E / I)</span><br>
      <input type="radio" id="observant" name="style_focus" value="E" required>
      <label for="observant">Observant</label>
      <input type="radio" id="introspective" name="style_focus" value="I">
      <label for="introspective">Introspective</label>
    </div>

    <div class="toggle-group">
      <span>Swing Feel (N / S)</span><br>
      <input type="radio" id="natural" name="style_swing" value="N" required>
      <label for="natural">Natural Flow</label>
      <input type="radio" id="structured" name="style_swing" value="S">
      <label for="structured">Structured</label>
    </div>

    <div class="toggle-group">
      <span>Strike Tempo (F / T)</span><br>
      <input type="radio" id="flow" name="style_tempo" value="F" required>
      <label for="flow">Rhythmic Flow</label>
      <input type="radio" id="burst" name="style_tempo" value="T">
      <label for="burst">Explosive Burst</label>
    </div>

    <div class="toggle-group">
      <span>Execution Method (P / J)</span><br>
      <input type="radio" id="power" name="style_exec" value="P" required>
      <label for="power">Power</label>
      <input type="radio" id="precision" name="style_exec" value="J">
      <label for="precision">Precision</label>
    </div>

    <p id="type-result" class="type-output" style="display:none;">
      Your Kendoka/Suburi Type: <strong id="suburi-type-code">----</strong>
    </p>

    <p class="section-intro">
      <strong>Kikentai Streetwear:</strong> We're also working on <strong>Kikentai</strong>, a kendo-inspired streetwear brand featuring a new <em>bogu</em> bag design that is <strong>compact, practical, and stylish</strong>. Your feedback helps us shape something real kendoka would actually want to use.
    </p>

    <label for="bogu_bag_cost">How much did you spend on your bogu bag (USD)?</label>
    <input type="number" name="bogu_bag_cost" id="bogu_bag_cost" min="0" step="10" />

    <label for="bogu_bag_make">Brand or Make of Bogu Bag (if known)</label>
    <input type="text" name="bogu_bag_make" id="bogu_bag_make" placeholder="e.g. Kanmuri, e-Bogu, Bushizo, etc." />

    <label for="bogu_bag_comments">Comments about your bogu bag (optional)</label>
    <textarea name="bogu_bag_comments" id="bogu_bag_comments" rows="4" placeholder="Pros, cons, size, materials, etc."></textarea>

    <p class="section-intro">
      <strong>Optional: Get a Report:</strong> If you'd like to receive a short personalized report based on your swing data (visualizations, comparisons, etc.), enter your email and check the box below. <strong>No spam</strong> — just one-time updates if you opt in.
    </p>

    <label for="email">Email (optional)</label>
    <input type="email" name="email" id="email" placeholder="Only if you'd like a report" />
    <div class="checkbox-line">
      <input type="checkbox" name="wants_report" value="yes" id="wants_report">
      <label for="wants_report">Yes, I’d like to receive a report</label>
    </div>

    <input type="hidden" name="_redirect" value="https://www.klayonstudio.com/submissionConfirmation.html" />

    <button type="submit">Submit</button>
  </form>

  <script>
    const inputs = document.querySelectorAll('input[type="radio"]');
    const typeDisplay = document.getElementById('type-result');
    const codeSpan = document.getElementById('suburi-type-code');

    function updateType() {
      const categories = ['style_focus', 'style_swing', 'style_tempo', 'style_exec'];
      let code = '';
      for (const cat of categories) {
        const checked = document.querySelector(`input[name="${cat}"]:checked`);
        if (!checked) {
          typeDisplay.style.display = 'none';
          return;
        }
        code += checked.value;
      }
      codeSpan.textContent = code;
      typeDisplay.style.display = 'block';
    }

    inputs.forEach(input => input.addEventListener('change', updateType));
  </script>
</body>
</html>
